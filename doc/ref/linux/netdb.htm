<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0068)http://pubs.opengroup.org/onlinepubs/009695399/basedefs/netdb.h.html -->
<HTML><HEAD><TITLE><netdb.h></TITLE>
<META content="MSHTML 6.00.2900.6129" name=GENERATOR>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="netdb.files/style.css" type=text/css rel=stylesheet><!-- Generated by The Open Group's rhtm tool v1.2.1 --><!-- Copyright (c) 2001-2004 IEEE and The Open Group, All Rights Reserved --></HEAD>
<BODY bgColor=white>
<SCRIPT language=JavaScript src="netdb.files/codes.js" 
type=text/javascript>
</SCRIPT>
<BASEFONT><A name="<netdb.h>"></A><A name=tag_13_31></A><!-- &lt;netdb.h&gt; --><!--header start-->
<CENTER><FONT size=2>The Open Group Base Specifications Issue 6<BR>IEEE Std 
1003.1, 2004 Edition<BR>Copyright © 2001-2004 The IEEE and The Open Group, All 
Rights reserved.</FONT></CENTER><!--header end-->
<HR noShade SIZE=2>

<H4><A name=tag_13_31_01></A>NAME</H4>
<BLOCKQUOTE>netdb.h - definitions for network database operations</BLOCKQUOTE>
<H4><A name=tag_13_31_02></A>SYNOPSIS</H4>
<BLOCKQUOTE class=synopsis>
  <P><TT>#include &lt;netdb.h&gt;</TT></P></BLOCKQUOTE>
<H4><A name=tag_13_31_03></A>DESCRIPTION</H4>
<BLOCKQUOTE>
  <P>The <I>&lt;netdb.h&gt;</I> header may define the <B>in_port_t</B> type and 
  the <B>in_addr_t</B> type as described in <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/netinet/in.h.html"><I>&lt;netinet/in.h&gt;</I></A>.</P>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the <B>hostent</B> structure 
  that includes at least the following members:</P><PRE><TT>char   *h_name      </TT> Official name of the host. <TT>
char  **h_aliases   </TT> A pointer to an array of pointers to <TT>
                    </TT> alternative host names, terminated by a <TT>
                    </TT> null pointer. <TT>
int     h_addrtype  </TT> Address type. <TT>
int     h_length    </TT> The length, in bytes, of the address. <TT>
char  **h_addr_list </TT> A pointer to an array of pointers to network <TT>
                    </TT> addresses (in network byte order) for the host, <TT>
                    </TT> terminated by a null pointer. <TT>
</TT>
</PRE>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the <B>netent</B> structure 
  that includes at least the following members:</P><PRE><TT>char     *n_name     </TT> Official, fully-qualified (including the <TT>
                     </TT> domain) name of the host. <TT>
char    **n_aliases  </TT> A pointer to an array of pointers to <TT>
                     </TT> alternative network names, terminated by a <TT>
                     </TT> null pointer. <TT>
int       n_addrtype </TT> The address type of the network. <TT>
uint32_t  n_net      </TT> The network number, in host byte order. <TT>
</TT>
</PRE>
  <P>The <B>uint32_t</B> type shall be defined as described in <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/inttypes.h.html"><I>&lt;inttypes.h&gt;</I></A>.</P>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the <B>protoent</B> 
  structure that includes at least the following members:</P><PRE><TT>char   *p_name    </TT> Official name of the protocol. <TT>
char  **p_aliases </TT> A pointer to an array of pointers to <TT>
                  </TT> alternative protocol names, terminated by <TT>
                  </TT> a null pointer. <TT>
int     p_proto   </TT> The protocol number. <TT>
</TT>
</PRE>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the <B>servent</B> structure 
  that includes at least the following members:</P><PRE><TT>char   *s_name    </TT> Official name of the service. <TT>
char  **s_aliases </TT> A pointer to an array of pointers to <TT>
                  </TT> alternative service names, terminated by <TT>
                  </TT> a null pointer. <TT>
int     s_port    </TT> The port number at which the service <TT>
                  </TT> resides, in network byte order. <TT>
char   *s_proto   </TT> The name of the protocol to use when <TT>
                  </TT> contacting the service. <TT>
</TT>
</PRE>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the IPPORT_RESERVED macro 
  with the value of the highest reserved Internet port number.</P>
  <P><SUP>[<A href="javascript:open_code('OB')">OB</A>]</SUP> <IMG 
  alt="[Option Start]" src="netdb.files/opt-start.gif" border=0> When the 
  <I>&lt;netdb.h&gt;</I> header is included, <I>h_errno</I> shall be available 
  as a modifiable lvalue of type <B>int</B>. It is unspecified whether 
  <I>h_errno</I> is a macro or an identifier declared with external linkage. 
  <IMG alt="[Option End]" src="netdb.files/opt-end.gif" border=0></P>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the following macros for use 
  as error values for <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/gethostbyaddr.html"><I>gethostbyaddr</I>()</A> 
  and <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/gethostbyname.html"><I>gethostbyname</I>()</A>:</P>
  <BLOCKQUOTE><PRE>HOST_NOT_FOUND
NO_DATA
NO_RECOVERY
TRY_AGAIN
</PRE></BLOCKQUOTE>
  <H5><A name=tag_13_31_03_01></A>Address Information Structure</H5>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the <B>addrinfo</B> 
  structure that includes at least the following members:</P><PRE><TT>int               ai_flags     </TT> Input flags. <TT>
int               ai_family    </TT> Address family of socket. <TT>
int               ai_socktype  </TT> Socket type. <TT>
int               ai_protocol  </TT> Protocol of socket. <TT>
socklen_t         ai_addrlen   </TT> Length of socket address. <TT>
struct sockaddr  *ai_addr      </TT> Socket address of socket. <TT>
char             *ai_canonname </TT> Canonical name of service location. <TT>
struct addrinfo  *ai_next      </TT> Pointer to next in list. <TT>
</TT>
</PRE>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the following macros that 
  evaluate to bitwise-distinct integer constants for use in the <I>flags</I> 
  field of the <B>addrinfo</B> structure:</P>
  <DL compact>
    <DT>AI_PASSIVE 
    <DD>Socket address is intended for <A 
    href="http://pubs.opengroup.org/onlinepubs/009695399/functions/bind.html"><I>bind</I>()</A>. 

    <DT>AI_CANONNAME 
    <DD>Request for canonical name. 
    <DT>AI_NUMERICHOST 
    <DD>Return numeric host address as name. 
    <DT>AI_NUMERICSERV 
    <DD>Inhibit service name resolution. 
    <DT>AI_V4MAPPED 
    <DD>If no IPv6 addresses are found, query for IPv4 addresses and return them 
    to the caller as IPv4-mapped IPv6 addresses. 
    <DT>AI_ALL 
    <DD>Query for both IPv4 and IPv6 addresses. 
    <DT>AI_ADDRCONFIG 
    <DD>Query for IPv4 addresses only when an IPv4 address is configured; query 
    for IPv6 addresses only when an IPv6 address is configured. </DD></DL>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the following macros that 
  evaluate to bitwise-distinct integer constants for use in the <I>flags</I> 
  argument to <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/getnameinfo.html"><I>getnameinfo</I>()</A>:</P>
  <DL compact>
    <DT>NI_NOFQDN 
    <DD>Only the nodename portion of the FQDN is returned for local hosts. 
    <DT>NI_NUMERICHOST 
    <DD>The numeric form of the node's address is returned instead of its name. 
    <DT>NI_NAMEREQD 
    <DD>Return an error if the node's name cannot be located in the database. 
    <DT>NI_NUMERICSERV 
    <DD>The numeric form of the service address is returned instead of its name. 

    <DT>NI_NUMERICSCOPE 
    <DD>For IPv6 addresses, the numeric form of the scope identifier is returned 
    instead of its name. 
    <DT>NI_DGRAM 
    <DD>Indicates that the service is a datagram service (SOCK_DGRAM). </DD></DL>
  <H5><A name=tag_13_31_03_02></A>Address Information Errors</H5>
  <P>The <I>&lt;netdb.h&gt;</I> header shall define the following macros for use 
  as error values for <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/getaddrinfo.html"><I>getaddrinfo</I>()</A> 
  and <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/getnameinfo.html"><I>getnameinfo</I>()</A>:</P>
  <DL compact>
    <DT>EAI_AGAIN 
    <DD>The name could not be resolved at this time. Future attempts may 
    succeed. 
    <DT>EAI_BADFLAGS 
    <DD>The flags had an invalid value. 
    <DT>EAI_FAIL 
    <DD>A non-recoverable error occurred. 
    <DT>EAI_FAMILY 
    <DD>The address family was not recognized or the address length was invalid 
    for the specified family. 
    <DT>EAI_MEMORY 
    <DD>There was a memory allocation failure. 
    <DT>EAI_NONAME 
    <DD>The name does not resolve for the supplied parameters. 
    <P>NI_NAMEREQD is set and the host's name cannot be located, or both 
    <I>nodename</I> and <I>servname</I> were null.</P>
    <DT>EAI_SERVICE 
    <DD>The service passed was not recognized for the specified socket type. 
    <DT>EAI_SOCKTYPE 
    <DD>The intended socket type was not recognized. 
    <DT>EAI_SYSTEM 
    <DD>A system error occurred. The error code can be found in <I>errno</I>. 
    <DT>EAI_OVERFLOW 
    <DD>An argument buffer overflowed. </DD></DL>
  <P>The following shall be declared as functions and may also be defined as 
  macros. Function prototypes shall be provided.</P><PRE><TT>void              endhostent(void);
void              endnetent(void);
void              endprotoent(void);
void              endservent(void);
void              freeaddrinfo(struct addrinfo *);
const char       *gai_strerror(int);
int               getaddrinfo(const char *restrict, const char *restrict,
                      const struct addrinfo *restrict,
                      struct addrinfo **restrict);
struct hostent   *gethostbyaddr(const void *, socklen_t, int);
struct hostent   *gethostbyname(const char *);
struct hostent   *gethostent(void);
int               getnameinfo(const struct sockaddr *restrict, socklen_t,
                      char *restrict, socklen_t, char *restrict,
                      socklen_t, int);
struct netent    *getnetbyaddr(uint32_t, int);
struct netent    *getnetbyname(const char *);
struct netent    *getnetent(void);
struct protoent  *getprotobyname(const char *);
struct protoent  *getprotobynumber(int);
struct protoent  *getprotoent(void);
struct servent   *getservbyname(const char *, const char *);
struct servent   *getservbyport(int, const char *);
struct servent   *getservent(void);
void              sethostent(int);
void              setnetent(int);
void              setprotoent(int);
void              setservent(int);
</TT>
</PRE>
  <P>The type <B>socklen_t</B> shall be defined through <B>typedef</B> as 
  described in <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/sys/socket.h.html"><I>&lt;sys/socket.h&gt;</I></A>.</P>
  <P>Inclusion of the <I>&lt;netdb.h&gt;</I> header may also make visible all 
  symbols from <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/netinet/in.h.html"><I>&lt;netinet/in.h&gt;</I></A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/sys/socket.h.html"><I>&lt;sys/socket.h&gt;</I></A>, 
  and <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/inttypes.h.html"><I>&lt;inttypes.h&gt;</I></A>.</P></BLOCKQUOTE>
<HR>

<DIV class=box><EM>The following sections are informative.</EM></DIV>
<H4><A name=tag_13_31_04></A>APPLICATION USAGE</H4>
<BLOCKQUOTE>
  <P>None.</P></BLOCKQUOTE>
<H4><A name=tag_13_31_05></A>RATIONALE</H4>
<BLOCKQUOTE>
  <P>None.</P></BLOCKQUOTE>
<H4><A name=tag_13_31_06></A>FUTURE DIRECTIONS</H4>
<BLOCKQUOTE>
  <P>None.</P></BLOCKQUOTE>
<H4><A name=tag_13_31_07></A>SEE ALSO</H4>
<BLOCKQUOTE>
  <P><A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/netinet/in.h.html"><I>&lt;netinet/in.h&gt;</I></A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/inttypes.h.html"><I>&lt;inttypes.h&gt;</I></A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/sys/socket.h.html"><I>&lt;sys/socket.h&gt;</I></A>, 
  the System Interfaces volume of IEEE&nbsp;Std&nbsp;1003.1-2001, <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/bind.html"><I>bind</I>()</A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/endhostent.html"><I>endhostent</I>()</A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/endnetent.html"><I>endnetent</I>()</A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/endprotoent.html"><I>endprotoent</I>()</A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/endservent.html"><I>endservent</I>()</A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/getaddrinfo.html"><I>getaddrinfo</I>()</A>, 
  <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/getnameinfo.html"><I>getnameinfo</I>()</A></P></BLOCKQUOTE>
<H4><A name=tag_13_31_08></A>CHANGE HISTORY</H4>
<BLOCKQUOTE>
  <P>First released in Issue 6. Derived from the XNS, Issue 5.2 
  specification.</P>
  <P>The Open Group Base Resolution bwg2001-009 is applied, which changes the 
  return type for <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/gai_strerror.html"><I>gai_strerror</I>()</A> 
  from <B>char *</B> to <B>const char *</B>. This is for coordination with the 
  IPnG Working Group.</P>
  <P>IEEE&nbsp;Std 1003.1-2001/Cor&nbsp;1-2002, item XBD/TC1/D6/11 is applied, 
  adding a description of the NI_NUMERICSCOPE macro and correcting the <A 
  href="http://pubs.opengroup.org/onlinepubs/009695399/functions/getnameinfo.html"><I>getnameinfo</I>()</A> 
  function prototype. These changes are for alignment with IPv6.</P></BLOCKQUOTE>
<DIV class=box><EM>End of informative text.</EM></DIV>
<HR noShade SIZE=2>

<CENTER><FONT size=2><!--footer start-->UNIX ® is a registered Trademark of The 
Open Group.<BR>POSIX ® is a registered Trademark of The IEEE.<BR>[ <A 
href="http://pubs.opengroup.org/onlinepubs/009695399/mindex.html">Main Index</A> 
| <A 
href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/contents.html">XBD</A> 
| <A 
href="http://pubs.opengroup.org/onlinepubs/009695399/utilities/contents.html">XCU</A> 
| <A 
href="http://pubs.opengroup.org/onlinepubs/009695399/functions/contents.html">XSH</A> 
| <A 
href="http://pubs.opengroup.org/onlinepubs/009695399/xrat/contents.html">XRAT</A> 
]</FONT></CENTER><!--footer end-->
<HR noShade SIZE=2>
</BASEFONT></BODY></HTML>
